<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <title>George</title>
</head>
<body>
    <h2 id="testThis">Photo Galleryâ„¢</h2>
    <button id="genesisElement" onclick="photoFiler()">Import Photos</button>
    <script>
        async function photoFiler() {
            const response = await fetch("https://davidg-123.github.io/Karl/photos.json")
            let fileList = await response.json();
            startIt(fileList);
        }
        function startIt(each) {
            let length = 0;
            let photoSeq = [];

            let gallery = document.createElement("div");
            
            const fileSort = (sort) => {
                sort.forEach(each => {
                    length += 1;

                    gallery.setAttribute("style", String("display: grid; " + "grid-template-columns: 50% 50%; " + "grid-template-rows:" + "fit-content ".repeat(Math.floor(length/2))));
                    let frames = document.createElement("div");
                    frames.setAttribute("style", "width: 98%; height: fit-content; margin: auto auto; border: dashed black 1px;");
                    let imgs = document.createElement("img");
                    frames.appendChild(imgs);
                    imgs.setAttribute("src", String("https://davidg-123.github.io/Karl/january/" + each));
                    imgs.setAttribute("style", "width: 100%; height: auto; display: block;")
                    imgs.setAttribute("id", "images" + String(length))
                    gallery.appendChild(frames);
                });
                length = 0;
                var lengths = [];

                document.querySelector("body").appendChild(gallery);

                sort.forEach(each => {
                    length += 1;
                    let heights = document.querySelector("#" + "images" + String(length));
                    console.log(heights.height);
                });
            }
            fileSort(each)
            
            document.querySelector("body").appendChild(gallery)
        }

    </script>
</body>
</html>
